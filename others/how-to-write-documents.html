<!DOCTYPE html>
<html lang="en-US">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>如何写文档 | 学习笔记</title>
<meta name="generator" content="Jekyll v3.9.2">
<meta property="og:title" content="如何写文档">
<meta name="author" content="Justin Wu">
<meta property="og:locale" content="en_US">
<link rel="canonical" href="https://www.realjustinwu.com/TIL/others/how-to-write-documents.html">
<meta property="og:url" content="https://www.realjustinwu.com/TIL/others/how-to-write-documents.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="如何写文档">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Justin Wu"},"headline":"如何写文档","url":"https://www.realjustinwu.com/TIL/others/how-to-write-documents.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/TIL/assets/css/style.css?v=ef0e67f59465ca9ca870982940a65c8d23fc7ce5">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'G-MKPQNG88DD', 'auto');
    ga('send', 'pageview');
  </script>



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/TIL/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://www.realjustinwu.com/TIL/">学习笔记</a></h1>
      

      <h1 id="如何写文档">如何写文档</h1>

<p>(from: Software Engineering at Google)</p>

<p>文档就像写测试，回报比较慢。一次投入可以获得无限的回报。</p>

<p>文档有助于回答这些问题：</p>

<ol>
  <li>为什么是这样设计的？</li>
  <li>我们为什么用这种方式实现代码？</li>
</ol>

<p>要把文档当成代码来对待</p>

<ol>
  <li>需要遵循内部的策略和规则</li>
  <li>放在源代码之下</li>
  <li>有清晰的所有权，并维护文档</li>
  <li>代码改变是，对应的文档也需要更新</li>
  <li>像追踪 bug 一样追踪问题</li>
  <li>像测试一样，定期评估</li>
</ol>

<h2 id="了解受众">了解受众</h2>

<p>常见的错误是只为自己写文档，认为读者跟自己有大致相同的技能。</p>

<p>根据下面标准定位受众：</p>

<ol>
  <li>经验水平： 有经验的开发、不熟悉语言的初级工程师</li>
  <li>领域知识： 团队成员、其他团队的成员(只想使用 API 而已)</li>
</ol>

<p>先编写一个简短的文档，通常要编写一个较长的文档，然后尽可能删除重复的信息。通过保持文档的简短和清晰，让专家和新手都满意。</p>

<p>根据受众如何使用文档：</p>

<ol>
  <li>寻求者：这部分人知道他们想要什么，想知道看到的内容是否符合他们的要求。</li>
  <li>浏览者：不知道想要什么，文档可以提供 <code class="language-plaintext highlighter-rouge">TL;DR:</code> 的说明(too long, don’t read)，如：”TL;DR：如果你对谷歌的C++编译器不感兴趣，你现在可以停止阅读。”</li>
</ol>

<h2 id="文档类型">文档类型</h2>

<ol>
  <li>参考文档，包括代码注释</li>
  <li>设计文档</li>
  <li>教程</li>
  <li>概念文档</li>
  <li>着陆页</li>
</ol>

<h3 id="参考文档">参考文档</h3>

<p>API 注释和实现注释。</p>

<ol>
  <li>API 注释：不需要讨论实现细节或者设计策略，也不能假设用户像作者一样精通 API</li>
  <li>实现注释：可以假定读者有更多的领域知识，说明为什么这样写代码</li>
</ol>

<p>参考文档应该从代码库生成的，Java/Python 都有对应工具，C++ 的头文件就是文档。
参考文档跟代码放一起，方便浏览、搜索和维护，</p>

<ol>
  <li>
    <p>文件注释</p>

    <p>文件内容的概要，应该确定代码的主要用例和目标受众。</p>

    <div class="language-text highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> -----------------------------------------------------------------------------
 // str_cat.h
 // -----------------------------------------------------------------------------
 //
 // This header file contains functions for efficiently concatenating and appending
 // strings: StrCat() and StrAppend(). Most of the work within these routines is
 // actually handled through use of a special AlphaNum type, which was designed
 // to be used as a parameter type that efficiently manages conversion to
 // strings and avoids copies in the above operations.
 ... ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>类注释</p>

    <p>描述该类/结构、该类的重要方法以及该类的目的。类的注释应该是 “名词化 “的，强调其对象方面。</p>

    <div class="language-text highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> // -----------------------------------------------------------------------------
 // AlphaNum
 // -----------------------------------------------------------------------------
 //
 // The AlphaNum class acts as the main parameter type for StrCat() and
 // StrAppend(), providing efficient conversion of numeric, boolean, and
 // hexadecimal values (through the Hex type) into strings.
</code></pre></div>    </div>
  </li>
  <li>
    <p>函数注释</p>

    <p>函数注释应该强调其使用的主动性，以一个指示性动词开始，描述函数的作用和返回的内容。</p>

    <div class="language-text highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> // StrCat()
 //
 // Merges the given strings or numbers, using no delimiter(s),
 // returning the merged result as a string.
 ... ...
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="设计文档">设计文档</h3>

<p>设计文档模板要求工程师考虑其设计的各个方面，如安全影响、国际化、存储要求和隐私问题等等。
设计文档建议设计目标，涵盖替代设计，指出其优缺点。</p>

<h3 id="教程">教程</h3>

<p>大多数项目都应该有一个 “Hello World“ 文档，该文档不做任何假设，并让工程师去做一些 “真实 “的事情。</p>

<p>尽量不要假设任何特定的设置、权限或领域知识。如果需要，请在本教程的开头明确说明这是一组先决条件。</p>

<p>对用户需要执行的每个操作进行编号。不需要操作的步骤，提示等，不能进行编号。</p>

<blockquote>
  <ol>
    <li>
      <p>从我们的服务器下载软件包，网址为 <a href="http://example.com:">http://example.com:</a></p>

      <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$curl</span> <span class="nt">-I</span> http://example.com
</code></pre></div>      </div>
    </li>
    <li>
      <p>将shell脚本复制到主目录：</p>

      <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$cp</span> foobar.sh ~
</code></pre></div>      </div>
    </li>
    <li>
      <p>在主目录中执行shell脚本：</p>

      <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$cd</span> ~<span class="p">;</span> foobar.sh
</code></pre></div>      </div>

      <p>foobar系统将首先与身份验证系统通信。经过身份验证后，foobar将引导一个名为“baz”的新数据库并打开一个输入shell。</p>
    </li>
    <li>
      <p>通过在命令行上执行SQL命令来测试“baz”：</p>

      <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>baz:<span class="nv">$CREATE</span> DATABASE my_foobar_db<span class="p">;</span>
</code></pre></div>      </div>
    </li>
  </ol>

</blockquote>

<h3 id="概念文档">概念文档</h3>

<p>有些代码需要比阅读参考文档更深入的解释或见解。在这些情况下，我们需要概念文档来提供API或系统的概述。概念文档都是为了补充而不是取代参考文档集。</p>

<p>例如：文件注释，可以对 API 进行“概念性”解释的合理位置。但是 API 和其他模块一起工作，记录这种复杂行为只能通过一个单独的概念文档。（注释是文档的单元测试，那么概念文档就是集成测试。）</p>

<p>概念文档需要对广大受众有用：包括专家和新手。它还需要强调清晰性，因此通常需要牺牲完整性和严格的准确性。</p>

<h3 id="着陆页">着陆页</h3>

<p>着陆页是产品或API用户的“入门”页面或者是团队的主页。不能把两个同时出现，如果需要两部分内容，可以把团队主页，作为“入门”页的二级页面。</p>

<h2 id="文档评审">文档评审</h2>

<p>让不同的人，从不同的方面进行评审。</p>

<ul>
  <li>技术评审，以保证准确性。通常是你的团队的另一个成员。</li>
  <li>受众评审，以确保清晰度。通常是对该领域不熟悉的人。</li>
  <li>写作评审，以保证一致性。通常是一个技术撰稿人或志愿者。</li>
</ul>

<h2 id="写文档的哲学">写文档的哲学</h2>

<h3 id="5w">5W</h3>

<ol>
  <li>WHO: 受众</li>
  <li>WHAT: 确定本文档用途。如果跟用途不一样，需要移到单独的文档中。</li>
  <li>WHEN: 文档本身上注明文档的编写日期（或最后一次修订日期）。</li>
  <li>WHERE: 要决定该文档应该放在哪里。</li>
  <li>WHY: 设定文件的目的。 总结一下你希望别人在阅读后能从文件中得到什么。</li>
</ol>

<p>一个好的经验法则是在文件的引言中确立 “为什么”。当你写总结的时候，验证你是否达到了你最初的期望（并进行相应的修改）。</p>

<h3 id="开头中间和结尾">开头、中间和结尾</h3>

<p>第一部分表示问题，中间部分是推荐的解决方案，结论总结了要点。</p>

<p>文档中，冗余通常是有用的。冗余有助于读者理解所述内容的重要性。</p>

<h3 id="良好文档的衡量标准">良好文档的衡量标准</h3>

<p>完整性、准确性和清晰性。</p>

<ul>
  <li>概念文档 - 可能不需要涵盖API的每个部分</li>
  <li>写参考文档 - 可能希望这是完整的，但可能必须牺牲一些清晰度</li>
  <li>写着陆页 - 专注于组织，并尽量减少讨论</li>
</ul>

<h3 id="废弃文档">废弃文档</h3>

<p>当文档不再具有任何用途时，请将其删除或将其标识为已过时（如果可用，请指明获取新信息的位置）。</p>

<h2 id="tldrs">TL;DRs</h2>

<ol>
  <li>随着时间和规模的增长，文档是非常重要的。</li>
  <li>文档的变化应该利用现有的开发人员的工作流程。</li>
  <li>让文档集中在一个职责（用途）上。</li>
  <li>为你的受众而不是你自己而写。</li>
</ol>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
